<div class="contact-container">
  <!-- === NAVBAR === -->
  <header class="navbar">
    <div class="container navbar-content">
      <div class="logo">
        <h1>Psico<span>Hub</span></h1>
      </div>
      <nav class="nav-links">
        <a (click)="goHome()">Home</a>
        <a (click)="goPerfil()">Perfil</a>
        <a [routerLink]="['/contact']" routerLinkActive="active">Contacto</a>
        <a [routerLink]="['/about']" routerLinkActive="active">Sobre Nosotros</a>
      </nav>
      <button class="btn-logout" (click)="logout()">Cerrar SesiÃ³n</button>
    </div>
  </header>

  <!-- === CONTENIDO PRINCIPAL === -->
  <main class="contact-main">
    <section class="contact-card">
      <h2 class="contact-title">ContÃ¡ctanos ðŸ“§</h2>
      <p class="contact-subtitle">
        Â¿Tienes alguna duda, sugerencia o deseas comunicarte con nuestro equipo?
        Completa el formulario y te responderemos lo antes posible.
      </p>

      <!-- Mensajes de Ã©xito y error -->
      @if (successMessage()) {
        <div class="alert alert-success">
          {{ successMessage() }}
        </div>
      }

      @if (errorMessage()) {
        <div class="alert alert-error">
          {{ errorMessage() }}
        </div>
      }

      <form [formGroup]="contactoForm" (ngSubmit)="onSubmit()" class="contact-form">
        <div class="form-group">
          <label for="nombre">Nombre completo</label>
          <input
            type="text"
            id="nombre"
            formControlName="nombre"
            placeholder="Tu nombre"
            [class.error]="getFieldError('nombre')"
          />
          @if (getFieldError('nombre')) {
            <span class="field-error">{{ getFieldError('nombre') }}</span>
          }
        </div>

        <div class="form-group">
          <label for="email">Correo electrÃ³nico</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            placeholder="tuemail@ejemplo.com"
            readonly
            [class.error]="getFieldError('email')"
          />
          @if (getFieldError('email')) {
            <span class="field-error">{{ getFieldError('email') }}</span>
          }
        </div>

        <div class="form-group">
          <label for="asunto">Asunto</label>
          <select
            id="asunto"
            formControlName="asunto"
            [class.error]="getFieldError('asunto')"
          >
            <option value="" disabled selected>Selecciona un asunto</option>
            <option value="Soporte y Cuenta">Soporte y Cuenta</option>
            <option value="Consultas sobre un Servicio">Consultas sobre un Servicio</option>
            <option value="Problema TÃ©cnico">Problema TÃ©cnico</option>
            <option value="Sugerencia o Idea">Sugerencia o Idea</option>
            <option value="General">General</option>
          </select>
          @if (getFieldError('asunto')) {
            <span class="field-error">{{ getFieldError('asunto') }}</span>
          }
        </div>

        <div class="form-group">
          <label for="mensaje">Mensaje</label>
          <textarea
            id="mensaje"
            rows="5"
            formControlName="mensaje"
            placeholder="Escribe tu mensaje aquÃ­..."
            [class.error]="getFieldError('mensaje')"
          ></textarea>
          @if (getFieldError('mensaje')) {
            <span class="field-error">{{ getFieldError('mensaje') }}</span>
          }
        </div>

        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="isLoading() || contactoForm.invalid"
        >
          @if (isLoading()) {
            Enviando...
          } @else {
            Enviar Mensaje
          }
        </button>
      </form>
    </section>
  </main>
</div>
