<section class="auth-container">
  <div class="auth-card">
    <h1 class="auth-logo">Psico<span>Hub</span></h1>
    <h2>Crear Cuenta</h2>
    <p class="auth-subtitle">
      Únete a nuestra comunidad y comienza tu viaje hacia el bienestar.
    </p>

    @if (errorMessage()) {
      <div class="error-message">
        {{ errorMessage() }}
      </div>
    }

    @if (successMessage()) {
      <div class="success-message">
        {{ successMessage() }}
      </div>
    }

    <form [formGroup]="registroForm" (ngSubmit)="onSubmit()" class="auth-form">
      <label for="nombre">Nombre</label>
      <input type="text" id="nombre" formControlName="nombre" placeholder="Tu nombre">
      @if (getFieldError('nombre')) {
        <span class="field-error">{{ getFieldError('nombre') }}</span>
      }

      <label for="apellido">Apellido</label>
      <input type="text" id="apellido" formControlName="apellido" placeholder="Tu apellido">
      @if (getFieldError('apellido')) {
        <span class="field-error">{{ getFieldError('apellido') }}</span>
      }

      <label for="dni">DNI</label>
      <input type="text" id="dni" formControlName="dni" placeholder="12345678" maxlength="8">
      @if (getFieldError('dni')) {
        <span class="field-error">{{ getFieldError('dni') }}</span>
      }

      <label for="fechaNacimiento">Fecha de Nacimiento</label>
      <input type="date" id="fechaNacimiento" formControlName="fechaNacimiento">
      @if (getFieldError('fechaNacimiento')) {
        <span class="field-error">{{ getFieldError('fechaNacimiento') }}</span>
      }

      <label for="genero">Género</label>
      <select id="genero" formControlName="genero">
        <option value="">Selecciona tu género</option>
        <option value="Masculino">Masculino</option>
        <option value="Femenino">Femenino</option>
        <option value="Otro">Otro</option>
        <option value="Prefiero no decirlo">Prefiero no decirlo</option>
      </select>
      @if (getFieldError('genero')) {
        <span class="field-error">{{ getFieldError('genero') }}</span>
      }

      <label for="distrito">Distrito</label>
      <input type="text" id="distrito" formControlName="distrito" placeholder="Ej. Miraflores">
      @if (getFieldError('distrito')) {
        <span class="field-error">{{ getFieldError('distrito') }}</span>
      }

      <label for="direccion">Dirección</label>
      <input type="text" id="direccion" formControlName="direccion" placeholder="Av. Siempre Viva 123">
      @if (getFieldError('direccion')) {
        <span class="field-error">{{ getFieldError('direccion') }}</span>
      }

      <label for="telefono">Teléfono</label>
      <input type="tel" id="telefono" formControlName="telefono" placeholder="987654321" maxlength="9">
      @if (getFieldError('telefono')) {
        <span class="field-error">{{ getFieldError('telefono') }}</span>
      }

      <label for="rol">Rol</label>
      <select id="rol" formControlName="rol">
        <option value="">Selecciona tu rol</option>
        <option value="paciente">Paciente</option>
        <option value="psicologo">Psicólogo</option>
      </select>
      @if (getFieldError('rol')) {
        <span class="field-error">{{ getFieldError('rol') }}</span>
      }

      <label for="email">Correo electrónico</label>
      <input type="email" id="email" formControlName="email" placeholder="tuemail@ejemplo.com">
      @if (getFieldError('email')) {
        <span class="field-error">{{ getFieldError('email') }}</span>
      }

      <label for="password">Contraseña</label>
      <input type="password" id="password" formControlName="password" placeholder="********">
      @if (getFieldError('password')) {
        <span class="field-error">{{ getFieldError('password') }}</span>
      }

      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="isLoading()"
      >
        @if (isLoading()) {
          Registrando...
        } @else {
          Registrarme
        }
      </button>
    </form>

    <p class="auth-footer">
      ¿Ya tienes una cuenta?
      <a [routerLink]="['/login']">Inicia sesión</a>
    </p>
  </div>
</section>
